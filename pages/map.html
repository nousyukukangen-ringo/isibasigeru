<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

<div class="page-wrapper">

  <!-- ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ -->
  <header class="header">
    <h2>MAP</h2>
  </header>

  <!-- åœ°å›³è¡¨ç¤º -->
  <div id="map"></div>

  <!-- æ’®å½±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <div class="camera-section">
    <!-- ã‚«ãƒ¡ãƒ©æ˜ åƒ -->
    <video id="camera-video" class="camera-video" autoplay playsinline></video>
    <canvas id="camera-canvas" class="hidden"></canvas>

    <!-- ãƒœã‚¿ãƒ³ç¾¤ -->
    <div style="margin-top: 8px;">
      <button id="camera-start" class="camera-btn blue-btn">ğŸ“· ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•</button>
      <button id="camera-shoot" class="camera-btn green-btn hidden">ğŸ“¸ æ’®å½±</button>
      <button id="camera-close" class="camera-btn red-btn hidden">âŒ é–‰ã˜ã‚‹</button>
    </div>
  </div>

  <!-- ã‚¿ã‚¤ãƒˆãƒ«å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <div id="title-section" class="hidden" style="text-align:center; margin-bottom:10px;">
    <input type="text" id="photo-title" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›" style="padding:6px 8px; width:70%; border-radius:6px; border:1px solid #ccc;">
    <button id="save-title" class="camera-btn green-btn">ä¿å­˜</button>
  </div>

  <!-- ARãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ -->
  <div id="ar-preview" class="ar-preview hidden">
    <h3 class="ar-title">æ’®å½±ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h3>
    <div id="ar-image" class="ar-image"></div>
    <div style="display:flex; gap:8px; justify-content:flex-end;">
      <button id="ar-close" class="close-btn">é–‰ã˜ã‚‹</button>
    </div>
  </div>

  <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
  <div class="menu-section">
    <button id="goto-sns" class="menu-btn">SNS</button>
    <button id="goto-folder" class="menu-btn">ãƒ•ã‚©ãƒ«ãƒ€</button>
  </div>

  <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
  <footer class="footer">
    <button id="logout-button" class="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
  </footer>

</div>

<style>
html, body { height: 100%; margin: 0; padding:0; }
.page-wrapper { height: 100vh; display:flex; flex-direction:column; box-sizing:border-box; }
.header { background:#FFC107; padding:12px; text-align:center; font-size:22px; font-weight:bold; }

#map { width:100%; height:45vh; max-height:420px; margin:10px 0; border-radius:10px; }

.camera-section { text-align:center; margin-bottom:10px; }
.camera-video { width:92%; max-width:420px; border-radius:10px; display:none; }
.camera-btn { padding:10px 22px; border:none; border-radius:8px; color:#fff; font-size:18px; margin-top:8px; cursor:pointer; }
.blue-btn { background:#2E6FBA; }
.green-btn { background:#2ebd70; }
.red-btn { background:#f44336; }
.hidden { display:none; }

.ar-preview { width:92%; margin:0 auto 12px auto; padding:12px; background:#fff; border-radius:10px; border:1px solid #ddd; }
.ar-image { width:100%; height:180px; background-size:cover; background-position:center; border-radius:8px; margin-bottom:8px; }
.close-btn { background:#ff5a5a; color:#fff; border:none; padding:8px 18px; border-radius:6px; cursor:pointer; }

.menu-section { display:flex; justify-content:space-around; margin:15px 0; }
.menu-btn { width:40%; padding:15px; border:none; border-radius:10px; background:#2E6FBA; color:white; font-size:18px; }

.footer { padding:15px; text-align:center; }
.logout-btn { width:90%; padding:14px; background:#ff5a5a; color:white; border:none; border-radius:10px; font-size:18px; }

#title-section input { font-size:16px; }
</style>
